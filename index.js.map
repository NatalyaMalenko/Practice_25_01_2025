{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/js/searchForm.js","../src/js/pagination.js","../src/js/events.js","../src/js/modal.js"],"sourcesContent":["import axios from 'axios';\n\nconst baseUrl = 'https://app.ticketmaster.com/discovery/v2/';\nconst API_KEY = 'uHSLi07StIOlriMPxJGxUbSYsHDs6AFx';\n\nexport async function fetchData(page, query) {\n  const response = await axios.get(\n    `${baseUrl}events.json?apikey=${API_KEY}&page=${page}&keyword=${query}`\n  );\n  console.log(response);\n  return response.data;\n}\n// fetchData(1);\n\nexport async function fetchDataId(id) {\n  const response = await axios.get(\n    `${baseUrl}events.json?apikey=${API_KEY}&id=${id}`\n  );\n  console.log(response.data);\n  return response.data;\n}\nfetchDataId('Z7r9jZ1A7C3jA');\n","import { renderEvents } from './events';\nimport { page } from './pagination';\n\nconst eventsList = document.querySelector('.events-list');\nconst form = document.querySelector('.search-form');\nexport let query = '';\n\nform.addEventListener('submit', onBtnSubmit);\n\nfunction onBtnSubmit(event) {\n  event.preventDefault();\n  query = event.target.elements.formInput.value;\n  eventsList.innerHTML = '';\n  renderEvents(page, query);\n}\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { renderEvents } from './events';\nimport { query } from './searchForm';\nconst options = {\n  totalItems: 0,\n  itemsPerPage: 20,\n  visiblePages: 5,\n  page: 1,\n  centerAlign: false,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage:\n      '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>',\n  },\n};\n\nconst pagination = new Pagination('pagination', options);\nexport const page = pagination.getCurrentPage();\nconsole.log(page);\nexport function reset(totalItems) {\n  pagination.reset(totalItems);\n}\n\npagination.on('afterMove', event => {\n  const currentPage = event.page;\n  console.log(currentPage);\n  renderEvents(currentPage, query);\n});\n","import { fetchData } from './api';\nimport { page, reset } from './pagination';\nimport { query } from './searchForm';\n\nconst eventsList = document.querySelector('.events-list');\n\nfunction markup(arrData) {\n  const renderMarkup = arrData\n    .map(\n      ({ name, id }) => `<li class=\"\" id=\"${id}\">\n    <p id=\"${id}\">${name}</p>\n   </li>`\n    )\n    .join('');\n  eventsList.innerHTML = renderMarkup;\n}\nexport async function renderEvents(page, query) {\n  const data = await fetchData(page, query);\n  console.log(data);\n  if (page === 1) {\n    reset(data.page.totalElements);\n  }\n\n  markup(data._embedded.events);\n}\nrenderEvents(page, query);\n","import { fetchDataId } from './api';\n\nconst eventsList = document.querySelector('.events-list');\nconst backdrop = document.querySelector('.backdrop');\nconst modal = document.querySelector('.modal');\n\neventsList.addEventListener('click', onClickList);\n\nfunction onClickList(event) {\n  const id = event.target.id;\n  backdrop.classList.remove('is-hidden');\n  getEvent(id);\n}\n\nasync function getEvent(id) {\n  const data = await fetchDataId(id);\n  console.log(data);\n  renderEvent(data._embedded.events);\n}\n\nfunction renderEvent(data) {\n  const markup = `<p>${data[0].name}</p>`;\n  modal.innerHTML = markup;\n}\n"],"names":["baseUrl","API_KEY","fetchData","page","query","response","axios","fetchDataId","id","eventsList","form","onBtnSubmit","event","renderEvents","options","pagination","Pagination","reset","totalItems","currentPage","markup","arrData","renderMarkup","name","data","backdrop","modal","onClickList","getEvent","renderEvent"],"mappings":"6vBAEA,MAAMA,EAAU,6CACVC,EAAU,mCAET,eAAeC,EAAUC,EAAMC,EAAO,CAC3C,MAAMC,EAAW,MAAMC,EAAM,IAC3B,GAAGN,CAAO,sBAAsBC,CAAO,SAASE,CAAI,YAAYC,CAAK,EACzE,EACE,eAAQ,IAAIC,CAAQ,EACbA,EAAS,IAClB,CAGO,eAAeE,EAAYC,EAAI,CACpC,MAAMH,EAAW,MAAMC,EAAM,IAC3B,GAAGN,CAAO,sBAAsBC,CAAO,OAAOO,CAAE,EACpD,EACE,eAAQ,IAAIH,EAAS,IAAI,EAClBA,EAAS,IAClB,CACAE,EAAY,eAAe,EClB3B,MAAME,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAO,SAAS,cAAc,cAAc,EAC3C,IAAIN,EAAQ,GAEnBM,EAAK,iBAAiB,SAAUC,CAAW,EAE3C,SAASA,EAAYC,EAAO,CAC1BA,EAAM,eAAc,EACpBR,EAAQQ,EAAM,OAAO,SAAS,UAAU,MACxCH,EAAW,UAAY,GACvBI,EAAaV,EAAMC,CAAK,CAC1B,CCVA,MAAMU,EAAU,CACd,WAAY,EACZ,aAAc,GACd,aAAc,EACd,KAAM,EACN,YAAa,GACb,mBAAoB,kBACpB,kBAAmB,iBACnB,SAAU,CACR,KAAM,gDACN,YACE,iEACF,WACE,mGAGF,mBACE,gHAGF,WACE,mGAGH,CACH,EAEMC,EAAa,IAAIC,EAAW,aAAcF,CAAO,EAC1CX,EAAOY,EAAW,iBAC/B,QAAQ,IAAIZ,CAAI,EACT,SAASc,EAAMC,EAAY,CAChCH,EAAW,MAAMG,CAAU,CAC7B,CAEAH,EAAW,GAAG,YAAaH,GAAS,CAClC,MAAMO,EAAcP,EAAM,KAC1B,QAAQ,IAAIO,CAAW,EACvBN,EAAaM,EAAaf,CAAK,CACjC,CAAC,ECtCD,MAAMK,EAAa,SAAS,cAAc,cAAc,EAExD,SAASW,EAAOC,EAAS,CACvB,MAAMC,EAAeD,EAClB,IACC,CAAC,CAAE,KAAAE,EAAM,GAAAf,CAAI,IAAK,oBAAoBA,CAAE;AAAA,aACjCA,CAAE,KAAKe,CAAI;AAAA,SAEnB,EACA,KAAK,EAAE,EACVd,EAAW,UAAYa,CACzB,CACO,eAAeT,EAAaV,EAAMC,EAAO,CAC9C,MAAMoB,EAAO,MAAMtB,EAAUC,EAAMC,CAAK,EACxC,QAAQ,IAAIoB,CAAI,EACZrB,IAAS,GACXc,EAAMO,EAAK,KAAK,aAAa,EAG/BJ,EAAOI,EAAK,UAAU,MAAM,CAC9B,CACAX,EAAaV,EAAMC,CAAK,ECvBxB,MAAMK,EAAa,SAAS,cAAc,cAAc,EAClDgB,EAAW,SAAS,cAAc,WAAW,EAC7CC,EAAQ,SAAS,cAAc,QAAQ,EAE7CjB,EAAW,iBAAiB,QAASkB,CAAW,EAEhD,SAASA,EAAYf,EAAO,CAC1B,MAAMJ,EAAKI,EAAM,OAAO,GACxBa,EAAS,UAAU,OAAO,WAAW,EACrCG,EAASpB,CAAE,CACb,CAEA,eAAeoB,EAASpB,EAAI,CAC1B,MAAMgB,EAAO,MAAMjB,EAAYC,CAAE,EACjC,QAAQ,IAAIgB,CAAI,EAChBK,EAAYL,EAAK,UAAU,MAAM,CACnC,CAEA,SAASK,EAAYL,EAAM,CACzB,MAAMJ,EAAS,MAAMI,EAAK,CAAC,EAAE,IAAI,OACjCE,EAAM,UAAYN,CACpB"}